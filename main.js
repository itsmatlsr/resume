document.addEventListener("DOMContentLoaded",function(){const cards=Array.from(document.querySelectorAll(".project-card"));const loadMoreBtn=document.getElementById("loadMoreBtn");const seeLessBtn=document.getElementById("seeLessBtn");const firstBatch=4;let visibleCount=firstBatch;if(!cards.length||!loadMoreBtn||!seeLessBtn)return;function revealWithFade(card){card.classList.remove("hidden");if(!card.classList.contains("fade-in-on-load"))
card.classList.add("fade-in-on-load");requestAnimationFrame(()=>card.classList.add("visible"));setTimeout(()=>card.classList.remove("fade-in-on-load","visible"),500)}
function hideHard(card){card.classList.remove("visible","fade-in-on-load");card.classList.add("hidden")}
function updateVisibleCards(){cards.forEach((card,i)=>i<visibleCount?revealWithFade(card):hideHard(card));if(visibleCount>=cards.length){loadMoreBtn.style.display="none";seeLessBtn.style.display="inline-block"}else{loadMoreBtn.style.display="inline-block";seeLessBtn.style.display="none"}}
updateVisibleCards();loadMoreBtn.addEventListener("click",()=>{visibleCount=cards.length;updateVisibleCards()});seeLessBtn.addEventListener("click",()=>{visibleCount=firstBatch;updateVisibleCards();document.querySelector(".projects .grid")?.scrollIntoView({behavior:"smooth",block:"start"})})});(function(){emailjs.init("StLfYuxaOgDeC4iwc")})();document.addEventListener("DOMContentLoaded",function(){const contactForm=document.getElementById("contact-form");const status=document.getElementById("form-status");contactForm.addEventListener("submit",function(e){e.preventDefault();emailjs.sendForm("service_67jlc07","template_6oqh9g6",this).then(()=>{status.textContent="Message envoyé avec succès !";status.classList.remove("error");contactForm.reset()}).catch(()=>{status.textContent="Une erreur est survenue. Réessayez.";status.classList.add("error")})})});document.addEventListener("DOMContentLoaded",function(){const phoneNumberEl=document.getElementById("phone-number");const toggleBtn=document.getElementById("toggle-phone");const eyeImg=toggleBtn.querySelector("img");const masked="*** * ** ** ** **";const real="+33 6 20 54 82 11";let revealed=!1;toggleBtn.addEventListener("click",()=>{revealed=!revealed;phoneNumberEl.textContent=revealed?real:masked;eyeImg.src=revealed?"assets/eye-open.png":"assets/eye-closed.png";eyeImg.alt=revealed?"Cacher le numéro":"Afficher le numéro";if(revealed){phoneNumberEl.classList.add("clickable")}else{phoneNumberEl.classList.remove("clickable")}});phoneNumberEl.addEventListener("click",()=>{if(revealed){window.location.href="tel:"+real.replace(/\s+/g,"")}})});const roles=["Chef de projet digital","Spécialiste E-Commerce","Creative Coder","Freelance dans le digital",];const typewriter=document.getElementById("typewriter");let roleIndex=0;let charIndex=0;let isDeleting=!1;function type(){const currentRole=roles[roleIndex];const currentText=currentRole.substring(0,charIndex);typewriter.textContent=currentText;if(!isDeleting&&charIndex<currentRole.length){charIndex++;setTimeout(type,100)}else if(isDeleting&&charIndex>0){charIndex--;setTimeout(type,50)}else{if(!isDeleting){isDeleting=!0;setTimeout(type,1200)}else{isDeleting=!1;roleIndex=(roleIndex+1)%roles.length;setTimeout(type,300)}}}
document.addEventListener("DOMContentLoaded",type);function animateCounter(counter){const target=parseInt(counter.getAttribute("data-target"),10);let current=parseInt(counter.getAttribute("data-start"),10);const duration=1500;const steps=Math.min(30,target-current);const increment=(target-current)/steps;const intervalTime=duration/steps;const interval=setInterval(()=>{current+=increment;if(current>=target){counter.textContent=target;clearInterval(interval)}else{counter.textContent=Math.floor(current)}},intervalTime)}
document.addEventListener("DOMContentLoaded",()=>{const counters=document.querySelectorAll(".counter");const observer=new IntersectionObserver((entries,obs)=>{entries.forEach((entry)=>{if(entry.isIntersecting){animateCounter(entry.target);obs.unobserve(entry.target)}})},{threshold:0.6});counters.forEach((counter)=>observer.observe(counter))});const observer=new IntersectionObserver((entries)=>{entries.forEach((entry)=>{if(entry.isIntersecting){entry.target.classList.add("visible")}})},{threshold:0.1,});document.querySelectorAll(".fade-in-on-scroll").forEach((section)=>{observer.observe(section)});const loadMoreBtn=document.getElementById("loadMoreBtn");const hiddenProjects=document.querySelectorAll(".fade-in-on-load.hidden");loadMoreBtn.addEventListener("click",()=>{hiddenProjects.forEach((project,index)=>{setTimeout(()=>{project.classList.remove("hidden");requestAnimationFrame(()=>{project.classList.add("visible")})},index*100)})});const cursor=document.createElement("div");cursor.classList.add("custom-cursor");document.body.appendChild(cursor);document.addEventListener("mousemove",(e)=>{cursor.style.top=`${e.clientY}px`;cursor.style.left=`${e.clientX}px`});const interactiveElements=document.querySelectorAll("a, button, .btn, input, textarea, select");interactiveElements.forEach((el)=>{el.addEventListener("mouseenter",()=>cursor.classList.add("hover"));el.addEventListener("mouseleave",()=>cursor.classList.remove("hover"))});function getLuminance(hex){const rgb=hex.replace("#","").match(/.{1,2}/g).map((c)=>parseInt(c,16)/255);const[r,g,b]=rgb.map((c)=>c<=0.03928?c/12.92:Math.pow((c+0.055)/1.055,2.4));return 0.2126*r+0.7152*g+0.0722*b}
function getContrast(hex1,hex2){const lum1=getLuminance(hex1);const lum2=getLuminance(hex2);const brightest=Math.max(lum1,lum2);const darkest=Math.min(lum1,lum2);return(brightest+0.05)/(darkest+0.05)}
document.addEventListener("mousemove",(e)=>{const cursor=document.querySelector(".custom-cursor");cursor.style.left=e.clientX+"px";cursor.style.top=e.clientY+"px";const el=document.elementFromPoint(e.clientX,e.clientY);if(el){const bgColor=window.getComputedStyle(el).backgroundColor;const hexBg=rgbToHex(bgColor);const contrast=getContrast("#22e57f",hexBg);if(contrast<3){cursor.classList.add("low-contrast")}else{cursor.classList.remove("low-contrast")}}});function rgbToHex(rgb){const result=rgb.match(/\d+/g);if(!result)return"#000000";return("#"+result.slice(0,3).map((x)=>{const hex=parseInt(x).toString(16);return hex.length===1?"0"+hex:hex}).join(""))}
document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".experience-item").forEach((item)=>{const showBtn=item.querySelector(".toggle-show");const hideBtn=item.querySelector(".toggle-hide");const moreSection=item.querySelector(".more-sections");if(showBtn&&moreSection&&hideBtn){showBtn.addEventListener("click",()=>{moreSection.style.display="block";showBtn.style.display="none"});hideBtn.addEventListener("click",()=>{moreSection.style.display="none";showBtn.style.display="inline-block"})}});const experienceItems=document.querySelectorAll(".experience-item");const loadMoreBtn=document.getElementById("loadMoreBtnExperience");const seeLessBtn=document.getElementById("seeLessBtnExperience");const visibleCountInitial=2;let visibleCount=visibleCountInitial;function updateExperienceCards(){experienceItems.forEach((item,index)=>{if(index<visibleCount){item.classList.add("visible");item.classList.remove("invisible")}else{item.classList.remove("visible");item.classList.add("invisible")}});loadMoreBtn.style.display=visibleCount<experienceItems.length?"inline-block":"none";seeLessBtn.style.display=visibleCount>visibleCountInitial?"inline-block":"none"}
updateExperienceCards();loadMoreBtn.addEventListener("click",()=>{visibleCount=experienceItems.length;updateExperienceCards()});seeLessBtn.addEventListener("click",()=>{visibleCount=visibleCountInitial;updateExperienceCards();document.querySelectorAll(".more-sections").forEach((section)=>{section.style.display="none"});document.querySelectorAll(".toggle-show").forEach((button)=>{button.style.display="inline-block"})})})